<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>获取鼠标经纬度</title>

    <!--<link rel="stylesheet" href="http://15.32.12.64/minemapapi/testapi/minemap.css">-->
    <!--<script src="http://15.32.12.64/minemapapi/testapi/minemap.js"></script>-->

    <link rel="stylesheet" href="http://15.32.12.64/minemapapi/v1.2/minemap.css">
    <script src="http://15.32.12.64/minemapapi/v1.2/minemap.js"></script>
    <!--<link rel="stylesheet" href="../../dist/minemap.css">-->
    <!--<script src="../../dist/minemap.js"></script>-->


<style>
    html, body, #map {
        width: 100%;
        height: 100%;
    }

    html, body {
        margin: 0;
        padding: 0;
    }
    #info{
        position: absolute;
        left: 0%;
        top: 0%;
        width: auto;
        z-index: 10;
    }
    #wgs84{
        position: absolute;
        left: 0%;
        top: 2%;
        width: auto;
        z-index: 10;
    }
</style>
</head>
<body>
<div id="map">
    <div id="info">02</div>
    <div id="wgs84">84</div>
</div>
<script>

    minemap.accessToken = '0b871b483cfb42a7b0dd73b5f78792e8';
    minemap.solution = 66;
    minemap.domainUrl = 'http://15.32.12.64/minemap-server/'
    var map = new minemap.Map({
        container: 'map',
        style: "http://minedata.cn/service/solu/style/id/66",
        center: [109.846755, 40.673924],
        zoom: 16,
        pitch: 60
    });
            minemap.CoordinateTransformTool()
    var transformTool = new minemap.CoordinateTransformTool(map)
    map.on("click", function (e) {

        var lngLat = e.lngLat;
        var point = e.point;

        /**
         * 这个获取经纬度有两种方式，lngLat是我们的基本返回对象，用户可以用
         * 1 lngLat.lng 获取经度     lngLat.lat 获取纬度
         * 2 lngLat.toArray()   获取一个数组 [经度，纬度]
         */

        document.getElementById("info").innerHTML = ("GCJ02坐标：" + lngLat.toArray() )

        var wgs84lnglat = transformTool.gcj02towgs84(lngLat.lng,lngLat.lat)

        document.getElementById("wgs84").innerHTML = ("WGS84坐标：" + wgs84lnglat[0]+"," + wgs84lnglat[1] )
    })

</script>


</body>