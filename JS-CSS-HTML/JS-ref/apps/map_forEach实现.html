<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>forEach/map 实现</title>
</head>

<body>
    <script>
        Array.prototype._map = function (fn) {
            let newArr = [];
            let length = this.length;
            for (let i = 0; i < length; i++) {
                let r = fn(this[i], i, this);
                newArr.push(r);
            }
            return newArr;
        }
        Array.prototype._forEach = function (fn) {
            let len = this.length;
            for (let i = 0; i < len; i++) {
                fn(this[i], i, this);
            }
        }

        var arr = [1, 2, 3, 4, 54, 5];
        console.group('--------forEach--------');

        let fe = arr._forEach((item, i, ar) => {
            console.log('.', item, i, ar);
            ar[i] = item + 1000;
        })
        console.log('forEach', fe, arr);
        console.groupEnd();

        console.group('--------map--------');
        let mr = arr._map((item, i, ar) => {
            console.log('map', item, i, ar);
            return item - 1000;
        })

        console.log('map', mr);
        console.groupEnd();

        console.timeStamp()
        console.trace()
        console.table([
            [1, 2, 3, 4, 4],
            [1, 2, 3, 4, 4],
            [1, 2, 3, 4, 4]
        ])
    </script>
</body>

</html>